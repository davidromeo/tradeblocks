---
phase: quick-011
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - packages/mcp-server/src/tools/reports/predictive.ts
  - packages/mcp-server/src/tools/reports/discrepancies.ts
  - packages/mcp-server/src/tools/reports/slippage-trends.ts
autonomous: true

must_haves:
  truths:
    - "find_predictive_fields has no interpretation field or interpretationGuide"
    - "filter_curve sweetSpots have no recommendation field"
    - "analyze_discrepancies correlations have no interpretation field"
    - "analyze_discrepancies patterns have no confidence field"
    - "analyze_slippage_trends trends have no interpretation or confidence fields"
    - "analyze_slippage_trends external factors have no interpretation field"
    - "All factual data (correlation coefficients, p-values, R-squared, deltas, scores) is preserved"
  artifacts:
    - path: "packages/mcp-server/src/tools/reports/predictive.ts"
      provides: "find_predictive_fields without interpretation/interpretationGuide, filter_curve without recommendation"
    - path: "packages/mcp-server/src/tools/reports/discrepancies.ts"
      provides: "analyze_discrepancies without interpretation or confidence"
    - path: "packages/mcp-server/src/tools/reports/slippage-trends.ts"
      provides: "analyze_slippage_trends without interpretation or confidence"
---

<objective>
Remove interpretive/subjective fields from report tool outputs (ethos violations). These three report tools should return only factual data; the consuming LLM determines meaning.

Purpose: MCP tools should be data-only. Interpretation labels like "strong", "moderate", "improving", recommendation text, and confidence levels violate the data-only ethos.
Output: All three report tools return factual data without interpretive labels.
</objective>

<execution_context>
@/Users/davidromeo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/davidromeo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@packages/mcp-server/src/tools/reports/predictive.ts
@packages/mcp-server/src/tools/reports/discrepancies.ts
@packages/mcp-server/src/tools/reports/slippage-trends.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove ethos-violating fields from predictive.ts (Issues 5, 6a)</name>
  <files>packages/mcp-server/src/tools/reports/predictive.ts</files>
  <action>
Two changes in predictive.ts:

**(Issue 6a) find_predictive_fields -- remove interpretation:**
- Remove the `interpretation` field from the FieldCorrelationResult interface (line ~144) and the interpretation calculation logic (lines ~204-213). Remove interpretation from the rankedFields push (line ~222). Keep correlation, absCorrelation, sampleSize, direction.
- Also remove the `interpretationGuide` object from structuredData (lines ~257-262) since it references the removed interpretation categories.

**(Issue 5) filter_curve -- remove recommendation:**
- Remove the `recommendation` field from the SweetSpot interface (line ~518) and from each sweetSpot object (lines ~540-541, ~560-561). Remove the interface property and the lines that construct the recommendation string. Keep threshold, direction, winRateDelta, avgPlDelta, percentOfTrades, score.
  </action>
  <verify>Run `npm run typecheck` to confirm no type errors.</verify>
  <done>find_predictive_fields has no interpretation field or interpretationGuide. filter_curve sweetSpots have no recommendation field. All numeric data preserved.</done>
</task>

<task type="auto">
  <name>Task 2: Remove ethos-violating fields from discrepancies.ts and slippage-trends.ts (Issues 6c, 6d, 7)</name>
  <files>
    packages/mcp-server/src/tools/reports/discrepancies.ts
    packages/mcp-server/src/tools/reports/slippage-trends.ts
  </files>
  <action>
**Issue 6c - analyze_discrepancies (discrepancies.ts):**
- Remove the `interpretation` field from the correlations results. In the `calculateCorrelations` function (lines ~298-369), remove the `interpretation` property from the results interface and from each result push (line ~356). Keep field, coefficient, sampleSize.
- Remove the `confidence` field from the PatternInsight interface (line ~170) and from all pattern pushes in the `detectPatterns` function. Keep pattern, details, and any numeric data.
- Check if `getCorrelationInterpretation` and `getConfidenceLevel` imports from slippage-helpers.ts are still needed by other files. If not, remove the imports. If slippage-trends.ts still uses them, leave them for now (Task 2 handles slippage-trends removal too, so they can both be cleaned up together).

**Issue 6d - analyze_slippage_trends (slippage-trends.ts):**
- Remove `interpretation` from the TrendResult interface (line ~221) and from the linearRegression function return (lines ~266-273, ~281). Keep slope, intercept, rSquared, pValue, stderr.
- Remove `interpretation` from the ExternalFactorResult interface (line ~367) and from the external factors results (line ~397). Keep factor, coefficient, sampleSize.

**Issue 7 - analyze_slippage_trends confidence field:**
- Remove the `confidence` field from the TrendResult interface (line ~222) and from the linearRegression function return (line ~282). Keep slope, intercept, rSquared, pValue, stderr.

**Cleanup: slippage-helpers.ts imports:**
After removing all usages of `getCorrelationInterpretation` and `getConfidenceLevel` from both discrepancies.ts and slippage-trends.ts, remove these imports from both files. Check if any OTHER files import these helpers -- if not, the helper functions themselves can remain (dead code cleanup is low priority) but the imports in these two files should be removed.
  </action>
  <verify>Run `npm run typecheck` to confirm no type errors. Run `npm test` to ensure no test failures.</verify>
  <done>analyze_discrepancies has no interpretation or confidence fields. analyze_slippage_trends has no interpretation or confidence fields. All numeric data preserved.</done>
</task>

</tasks>

<verification>
- `npm run typecheck` passes
- `npm test` passes
- Grep for "interpretation" in predictive.ts, discrepancies.ts, slippage-trends.ts shows zero results in output objects
- Grep for "recommendation" in predictive.ts shows zero results in output objects
- Grep for "confidence" in discrepancies.ts and slippage-trends.ts shows zero results in output objects
</verification>

<success_criteria>
- No interpretive labels in any report tool output
- All factual data preserved (coefficients, p-values, scores, etc.)
- TypeScript compiles clean
</success_criteria>

<output>
After completion, create `.planning/quick/011-fix-mcp-output-size-ethos-sharpe-bugs/011-02-SUMMARY.md`
</output>
