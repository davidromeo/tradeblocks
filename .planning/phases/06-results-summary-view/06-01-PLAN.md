---
phase: 06-results-summary-view
plan: 01
type: execute
---

<objective>
Restructure WFA results display to put a high-level summary view FIRST, making results immediately understandable for users new to walk-forward analysis.

Purpose: Make WFA results clear and accessible - users should understand what the analysis found without WFA expertise.
Output: Restructured results page with prominent summary, visual status indicators, and clear metric explanations.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Phase context (from /gsd:discuss-phase):
@.planning/phases/06-results-summary-view/06-CONTEXT.md

# Prior phase context:
@.planning/phases/01-audit-analysis/01-02-SUMMARY.md
@.planning/phases/02-parameter-selection-ui/02-01-SUMMARY.md

# Key source files:
@app/(platform)/walk-forward/page.tsx
@components/walk-forward/walk-forward-verdict.tsx
@components/walk-forward/robustness-metrics.tsx
@lib/calculations/walk-forward-verdict.ts

**Established patterns:**
- Card-based layout with shadcn/ui components
- HoverCard tooltips for explanations
- Collapsible sections for optional complexity
- Green/amber/rose color coding for status indicators

**Key decisions from prior phases:**
- Parameters disabled by default (opt-in model)
- String state pattern for numeric inputs

**From CONTEXT.md:**
- "Calm orientation" - help users understand, not judge
- "Insights not recommendations" - show findings without telling users what to do
- Visual hierarchy: most important information first
- No jargon barrier: newcomers should understand without prior WFA knowledge
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create WalkForwardSummary component with prominent visual status</name>
  <files>components/walk-forward/walk-forward-summary.tsx</files>
  <action>
Create a new summary component that serves as the FIRST thing users see when results exist.

Structure:
1. Large visual status indicator (good/mixed/concerning) with color-coded Card border/background
2. One-sentence plain-English summary: "Your strategy [held up well / showed mixed results / may be overfit]"
3. Three key metrics in a horizontal row with visual indicators:
   - Efficiency: "X% of performance held up" (green ≥80%, amber ≥60%, red <60%)
   - Stability: "Parameters were [stable/variable/unstable]" (green ≥70%, amber ≥50%, red <50%)
   - Consistency: "X of Y windows were profitable" (green ≥70%, amber ≥50%, red <50%)
4. Each metric gets a HoverCard with one-sentence explanation (no jargon)

Use existing assessment logic from walk-forward-verdict.ts - import assessResults.
Match Card styling from walk-forward-verdict.tsx (border-l-4, emerald/amber/rose colors).
Do NOT include parameter observations or interpretation guide - keep this focused on the headline.

Plain English explanations (no jargon):
- Efficiency: "How well performance held up when tested on new data"
- Stability: "How consistent the optimal settings were across time"
- Consistency: "How often the strategy stayed profitable on new data"
  </action>
  <verify>
Component renders with mock data:
- npm run build compiles without errors
- File exists at components/walk-forward/walk-forward-summary.tsx
  </verify>
  <done>
New WalkForwardSummary component created with visual status, plain-English summary sentence, and three key metrics with HoverCard explanations.
  </done>
</task>

<task type="auto">
  <name>Task 2: Restructure results page to show summary first with collapsible details</name>
  <files>app/(platform)/walk-forward/page.tsx</files>
  <action>
Restructure the results section hierarchy:

BEFORE (current):
1. WalkForwardPeriodSelector (config)
2. RunSwitcher
3. Configuration Summary badges
4. WalkForwardVerdict (verdict + parameters + interpretation)
5. RobustnessMetrics
6. Analysis insights card
7. WalkForwardAnalysisChart
8. Window Table

AFTER:
1. WalkForwardPeriodSelector (config) - unchanged
2. RunSwitcher - unchanged
3. **NEW: WalkForwardSummary** - the headline view, ALWAYS visible first when results exist
4. Collapsible "Details" section containing:
   - Configuration Summary badges (moved inside)
   - WalkForwardVerdict (moved inside, becomes "Detailed Assessment")
   - RobustnessMetrics (moved inside, becomes "All Metrics")
   - Analysis insights (moved inside)
5. WalkForwardAnalysisChart - unchanged (visual is valuable outside details)
6. Window Table - unchanged

Implementation:
- Import WalkForwardSummary from new component
- Wrap items 4 (config), 5 (verdict), 6 (robustness), 7 (insights) in a Collapsible from shadcn/ui
- Collapsible trigger: "Show detailed breakdown" / "Hide details"
- Default state: collapsed (so summary is the focus)
- Keep chart and table outside collapsible (they're visual, not text-heavy)

Do NOT change any calculation logic or data flow. This is purely presentation restructuring.
  </action>
  <verify>
npm run build succeeds
Page loads without errors in browser (user will verify)
  </verify>
  <done>
Results page restructured: WalkForwardSummary appears first, detailed sections in Collapsible below, charts and table remain accessible.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Restructured WFA results page with prominent summary view</what-built>
  <how-to-verify>
    1. Run: npm run dev
    2. Navigate to Walk-Forward page
    3. Select a block that has existing WFA analysis history (or run a quick analysis)
    4. Verify:
       - Summary appears FIRST after RunSwitcher
       - Visual status indicator is prominent with color coding
       - Three metrics visible with plain English labels
       - "Show detailed breakdown" collapsible works
       - Charts and Window Table still visible outside collapsible
       - Overall feel is "calm orientation" not overwhelming
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring phase complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run lint` passes (or only pre-existing warnings)
- [ ] WalkForwardSummary component exists and renders
- [ ] Results page shows summary first, details in collapsible
- [ ] Visual status indicators use correct color coding
- [ ] Metrics have HoverCard explanations in plain English
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No TypeScript errors
- Summary view is the first thing users see when results exist
- Detailed breakdown is accessible but not overwhelming
- Visual hierarchy puts most important information first
</success_criteria>

<output>
After completion, create `.planning/phases/06-results-summary-view/06-01-SUMMARY.md`:

# Phase 6 Plan 01: Results Summary View Summary

**[Substantive one-liner]**

## Accomplishments

- [Key outcome 1]
- [Key outcome 2]

## Files Created/Modified

- `components/walk-forward/walk-forward-summary.tsx` - New summary component
- `app/(platform)/walk-forward/page.tsx` - Restructured results layout

## Decisions Made

[Key decisions and rationale, or "None"]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Phase complete, ready for Phase 7 (Terminology Explanations)
</output>
