---
phase: 14-multi-platform-agent-skills
plan: "01"
type: execute
domain: agent-skills
---

<objective>
Create core analysis skills using the Agent Skills standard: health-check, wfa-analysis, and risk-assessment.

Purpose: Enable Claude, OpenAI, and Gemini agents to guide users through strategy evaluation workflows conversationally.
Output: Three working SKILL.md files in packages/agent-skills/ directory with supporting references.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-multi-platform-agent-skills/14-RESEARCH.md
@.planning/phases/14-multi-platform-agent-skills/14-CONTEXT.md
@packages/mcp-server/src/index.ts

**Agent Skills Standard (from RESEARCH.md):**
- YAML frontmatter with `name` (must match directory) and `description` (keywords for activation)
- Markdown body with Prerequisites, Process (numbered steps), Interpretation Guide
- Keep under 500 lines; use references/ for extensive content
- First step should verify MCP connection via `list_backtests`
- Conversational workflow pattern: gather context → execute analysis → interpret results

**Available MCP Tools (18 total):**
Core: list_backtests, get_backtest_details, get_trades, get_statistics, reprocess_backtest, get_daily_logs
Analysis: run_walk_forward, run_monte_carlo, calculate_correlation, get_tail_risk, calculate_position_sizing
Performance: get_performance_charts, get_period_returns, compare_backtest_vs_actual
Reports: list_available_fields, run_filtered_query, get_field_statistics, aggregate_by_field

**Platform Installation Paths:**
- Claude Code: .claude/skills/
- OpenAI Codex: .codex/skills/
- Gemini CLI: .gemini/skills/
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create tradeblocks-health-check skill</name>
  <files>packages/agent-skills/tradeblocks-health-check/SKILL.md, packages/agent-skills/tradeblocks-health-check/references/metrics.md</files>
  <action>
Create comprehensive strategy health check skill following RESEARCH.md examples:

SKILL.md structure:
- Frontmatter: name=tradeblocks-health-check, description includes "strategy health", "backtest analysis", "performance evaluation"
- Prerequisites: MCP server running, block with trade data
- Process (5 steps):
  1. Select strategy (list_backtests, help user choose)
  2. Basic metrics (get_statistics - Sharpe, Sortino, max drawdown, win rate, profit factor)
  3. Stress testing (run_monte_carlo - focus on 5th percentile, probability of ruin)
  4. Risk assessment (get_tail_risk for fat tails, calculate_position_sizing for Kelly)
  5. Summary with health verdict (HEALTHY/CONCERNS/AVOID thresholds)
- Include interpretation inline for key metrics
- Reference metrics.md for detailed explanations

references/metrics.md:
- Detailed explanations of Sharpe, Sortino, max drawdown, profit factor, win rate
- What values are good/bad
- Why each metric matters for live trading

Keep SKILL.md under 200 lines; put detailed explanations in references/.
  </action>
  <verify>ls packages/agent-skills/tradeblocks-health-check/ shows SKILL.md and references/metrics.md</verify>
  <done>SKILL.md has valid YAML frontmatter, 5-step process, interpretation guidance; metrics.md provides detailed explanations</done>
</task>

<task type="auto">
  <name>Task 2: Create tradeblocks-wfa skill</name>
  <files>packages/agent-skills/tradeblocks-wfa/SKILL.md, packages/agent-skills/tradeblocks-wfa/references/wfa-guide.md</files>
  <action>
Create walk-forward analysis skill:

SKILL.md structure:
- Frontmatter: name=tradeblocks-wfa, description includes "walk-forward", "optimization robustness", "overfit detection"
- "What is Walk-Forward Analysis?" section explaining IS/OOS concept simply
- Prerequisites: MCP server, block with sufficient trade history (50+ trades recommended)
- Process (5 steps):
  1. Select strategy (list_backtests)
  2. Explain analysis (what will happen, gather user goals - validate parameters? find optimal windows? check regime changes?)
  3. Run analysis (run_walk_forward with appropriate parameters based on data length)
  4. Interpret results (walk-forward efficiency, IS vs OOS performance, window consistency)
  5. Provide recommendations (robust, marginal, overfit thresholds)
- Interpretation table for WF Efficiency (>75%=excellent, 50-75%=good, 25-50%=marginal, <25%=poor)
- Reference wfa-guide.md for deep dive

references/wfa-guide.md:
- Detailed WFA explanation (anchored/rolling windows, IS/OOS splits)
- How to interpret each metric
- Common pitfalls (too few windows, short OOS periods)
- When WFA is appropriate vs inappropriate
  </action>
  <verify>ls packages/agent-skills/tradeblocks-wfa/ shows SKILL.md and references/wfa-guide.md</verify>
  <done>SKILL.md has valid frontmatter, WFA explanation, 5-step process, efficiency thresholds; wfa-guide.md provides comprehensive WFA education</done>
</task>

<task type="auto">
  <name>Task 3: Create tradeblocks-risk skill</name>
  <files>packages/agent-skills/tradeblocks-risk/SKILL.md, packages/agent-skills/tradeblocks-risk/references/kelly-guide.md, packages/agent-skills/tradeblocks-risk/references/tail-risk.md</files>
  <action>
Create risk assessment skill:

SKILL.md structure:
- Frontmatter: name=tradeblocks-risk, description includes "risk assessment", "position sizing", "Kelly criterion", "tail risk", "Monte Carlo"
- Prerequisites: MCP server, block with trade data
- Process (4 steps):
  1. Gather context (ask what user wants: capital allocation? worst-case? is strategy too risky?)
  2. Run appropriate analysis based on goal:
     - Position sizing: calculate_position_sizing (Kelly with caveats about half-Kelly)
     - Worst-case: run_monte_carlo with worst-case pool injection
     - Tail risk: get_tail_risk for fat tails and skewness
  3. Run complementary checks (if sizing → also check tail risk; if worst-case → also check Kelly)
  4. Provide recommendations (suggested position size, risk warnings, comparison to guidelines)
- Interpretation for Kelly (full vs half vs quarter), tail risk (kurtosis, skewness), Monte Carlo percentiles

references/kelly-guide.md:
- Kelly criterion formula and intuition
- Why full Kelly is aggressive
- Half-Kelly and fractional Kelly
- When Kelly doesn't apply (fat tails, correlated positions)

references/tail-risk.md:
- What are fat tails
- Kurtosis and skewness explained
- Why tail risk matters for trading
- How to adjust for fat-tailed strategies
  </action>
  <verify>ls packages/agent-skills/tradeblocks-risk/ shows SKILL.md and references/</verify>
  <done>SKILL.md has valid frontmatter, 4-step contextual process, interpretation; kelly-guide.md and tail-risk.md provide domain education</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All three skill directories exist under packages/agent-skills/
- [ ] Each SKILL.md has valid YAML frontmatter with name matching directory
- [ ] Each skill has at least one reference file
- [ ] SKILL.md files are under 300 lines each
- [ ] No hardcoded paths or platform-specific code
</verification>

<success_criteria>
- Three skills created: tradeblocks-health-check, tradeblocks-wfa, tradeblocks-risk
- All SKILL.md files follow Agent Skills standard from RESEARCH.md
- Conversational workflow pattern implemented (gather context → execute → interpret)
- Interpretation guidance included for all key metrics
- Reference files provide detailed domain education
</success_criteria>

<output>
After completion, create `.planning/phases/14-multi-platform-agent-skills/14-01-SUMMARY.md`:

# Phase 14-01: Core Analysis Skills Summary

**[Brief description of what was created]**

## Accomplishments
- [Skills created with key features]

## Files Created
- packages/agent-skills/tradeblocks-health-check/...
- packages/agent-skills/tradeblocks-wfa/...
- packages/agent-skills/tradeblocks-risk/...

## Decisions Made
[Key decisions and rationale]

## Issues Encountered
[Problems and resolutions]

## Next Step
Ready for 14-02-PLAN.md (comparison and portfolio skills)
</output>
