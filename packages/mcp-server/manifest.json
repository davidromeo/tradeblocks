{
  "manifest_version": "0.3",
  "name": "tradeblocks",
  "display_name": "TradeBlocks",
  "version": "1.3.0",
  "description": "Options trading analysis - backtest stats, walk-forward analysis, Monte Carlo simulations, and risk metrics",
  "long_description": "TradeBlocks MCP server provides comprehensive options trading analysis capabilities. Import your trade logs and get detailed performance statistics, run walk-forward analysis to detect overfitting, perform Monte Carlo simulations for risk assessment, calculate optimal position sizing with Kelly criterion, and compare backtest results against actual trading performance. All analysis runs locally on your machine.",
  "author": {
    "name": "David Romeo",
    "url": "https://github.com/davidromeo"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/davidromeo/tradeblocks"
  },
  "homepage": "https://github.com/davidromeo/tradeblocks",
  "documentation": "https://github.com/davidromeo/tradeblocks/tree/master/packages/mcp-server",
  "support": "https://github.com/davidromeo/tradeblocks/issues",
  "server": {
    "type": "node",
    "entry_point": "server/index.js",
    "mcp_config": {
      "command": "node",
      "args": [
        "${__dirname}/server/index.js"
      ],
      "env": {
        "BLOCKS_DIRECTORY": "${user_config.blocks_directory}"
      }
    }
  },
  "tools": [
    {
      "name": "list_blocks",
      "description": "List all available trading backtests/blocks in the configured directory"
    },
    {
      "name": "get_statistics",
      "description": "Get comprehensive performance statistics for a backtest including P&L, win rate, drawdowns, Sharpe ratio"
    },
    {
      "name": "run_walk_forward",
      "description": "Run walk-forward analysis to test strategy robustness and detect overfitting"
    },
    {
      "name": "run_monte_carlo",
      "description": "Monte Carlo simulation for risk assessment and confidence intervals"
    },
    {
      "name": "calculate_correlation",
      "description": "Calculate correlation between multiple strategies using Kendall's tau"
    },
    {
      "name": "get_tail_risk",
      "description": "Analyze tail risk metrics including VaR, CVaR, and maximum drawdown"
    },
    {
      "name": "calculate_position_sizing",
      "description": "Calculate optimal position size using Kelly criterion with safety adjustments"
    },
    {
      "name": "get_performance_charts",
      "description": "Get chart data for equity curves, drawdowns, returns distribution, and more"
    },
    {
      "name": "get_period_returns",
      "description": "Get returns aggregated by time period (daily, weekly, monthly, yearly)"
    },
    {
      "name": "compare_backtest_vs_actual",
      "description": "Compare backtest results against actual live trading performance"
    },
    {
      "name": "list_available_fields",
      "description": "List all filterable fields available for trade queries"
    },
    {
      "name": "run_filtered_query",
      "description": "Query trades with filters and return matching results"
    },
    {
      "name": "get_field_statistics",
      "description": "Get statistics for a specific trade field"
    },
    {
      "name": "aggregate_by_field",
      "description": "Aggregate trade data by field values"
    }
  ],
  "prompts": [
    {
      "name": "getting_started",
      "description": "How to set up and use TradeBlocks for trading analysis",
      "text": "# Getting Started with TradeBlocks\n\n## Setup\nYour trading data should be in your configured Trading Data Directory. Each strategy/backtest is a **block** - a folder containing:\n- `tradelog.csv` (required): Your trade records with columns like Date Opened, Date Closed, P/L, etc.\n- `dailylog.csv` (optional): Daily portfolio values for more accurate drawdown calculations\n\n## Adding New Backtests\nTo add a new backtest for analysis:\n1. Create a new folder in your Trading Data Directory (e.g., `my-strategy-2024`)\n2. Export your trade log CSV from Option Omega (or other backtesting platform)\n3. Save it as `tradelog.csv` in the new folder\n4. The block will appear when you run `list_blocks`\n\n**Folder structure example:**\n```\nTrading Data Directory/\n  my-strategy-2024/\n    tradelog.csv\n    dailylog.csv (optional)\n  another-strategy/\n    tradelog.csv\n```\n\n## Quick Start\n1. **List your blocks**: Use `list_blocks` to see available strategies\n2. **Get statistics**: Use `get_statistics` with a block ID to see performance metrics\n3. **Run analysis**: Use `run_walk_forward` or `run_monte_carlo` for deeper analysis"
    },
    {
      "name": "analyze_strategy",
      "description": "Comprehensive strategy analysis workflow",
      "arguments": [
        "block_id"
      ],
      "text": "Analyze the strategy '${arguments.block_id}' comprehensively:\n\n1. First get basic statistics with `get_statistics`\n2. Run walk-forward analysis with `run_walk_forward` to check for overfitting\n3. Run Monte Carlo simulation with `run_monte_carlo` for risk assessment\n4. Calculate position sizing with `calculate_position_sizing`\n5. Check tail risk with `get_tail_risk`\n\nProvide insights on:\n- Is this strategy robust or potentially overfit?\n- What position size is appropriate given the risk?\n- What are the worst-case scenarios?\n- Any red flags or concerns?"
    },
    {
      "name": "optionomega_guide",
      "description": "Guide for setting up Option Omega backtests that export clean data for TradeBlocks",
      "text": "# Option Omega Backtest Setup for TradeBlocks\n\n## Supported Assets\nSPY, SPX (afternoon expirations only), QQQ, IWM, AAPL, TSLA\n- Historical data from January 1, 2013 through previous trading day\n- Data updates overnight (3-5am ET), available before market open\n\n## Strategy Configuration\n\n### Strike Selection Methods\n- **Delta**: Select strikes by delta value (default)\n- **Percentage OTM**: Target specific out-of-the-money distances\n- **Fixed Premium**: Choose strikes nearest a specified price\n- **Strike Offset**: Position relative to parent legs (for linked legs)\n\n### Option Legs\n- Up to 8 legs per backtest\n- Linked legs for dependent strike selections\n- Round strikes to nearest multiples for liquidity\n\n## Entry Configuration\n\n### Timing\n- Entry window: 9:32am - 3:59pm ET (1-minute intervals)\n- Frequency: Daily, Weekly (specific days), Monthly (specific dates), or Specific Dates\n\n### Entry Filters (Optional)\n- VIX levels (min/max), VIX movement\n- Technical indicators: RSI (14-day), SMA, EMA\n- Opening Range Breakout (ORB)\n- Gap conditions, intraday movement\n- SqueezeMetrics: DIX, GEX, GXV\n\n## Exit Conditions\n\n### Profit/Loss Targets\n- Percentage-based\n- Fixed dollar amount\n- Closing order price\n\n### Stop Loss Options\n- Fixed stop loss\n- Trailing stop (recalculated or fixed)\n- 0-DTE intra-minute stops (SPX/SPY only)\n- Per-leg stop loss\n\n### Time-Based Exits\n- By DTE remaining\n- Days in trade\n- Minutes in trade\n\n### Other Exits\n- Technical indicator triggers\n- Delta-based (position or leg level)\n- Short tested / underlying movement\n\n## Risk Controls (The Punisher)\n- Commission/fee modeling (per contract)\n- Slippage adjustments (entry, exit, stop loss)\n- Bid-ask spread filter (default: 10,000 bps max)\n- Consecutive hits requirement (2 intervals at target/stop)\n- Min/max entry premium filters\n- Blackout days\n- Re-entry delays after exits\n\n## Data Quality Notes\n- Uses mid-price from OPRA bid/ask data\n- 1-minute resolution (open price for signals)\n- RTH only (9:30-4:00 market time)\n- SPX uses standard EOD contracts only (no AM expirations)\n- Calendar days for DTE calculations\n- March 2020 / Spring 2025 show unusual volatility\n\n## Exporting for TradeBlocks\n\n1. Run your backtest in Option Omega\n2. Go to Results -> Trade Log\n3. Click Export/Download CSV\n4. Create a new folder in your Trading Data Directory (e.g., `my-strategy-2024`)\n5. Save the CSV as `tradelog.csv` in that folder\n6. Run `list_blocks` to see your new block\n\nTradeBlocks expects these columns (Option Omega exports them automatically):\n- Date Opened, Time Opened\n- Date Closed, Time Closed\n- P/L, Strategy, Legs\n- No. of Contracts, Premium\n- Opening/Closing Prices\n- Reason For Close\n\n**Note**: The visual context from Option Omega's trade log (replay, charts) is lost in CSV export. TradeBlocks provides its own analysis tools to compensate."
    }
  ],
  "keywords": [
    "trading",
    "options",
    "backtest",
    "analysis",
    "walk-forward",
    "monte-carlo",
    "risk",
    "portfolio"
  ],
  "license": "MIT",
  "user_config": {
    "blocks_directory": {
      "type": "directory",
      "title": "Trading Data Directory",
      "description": "Directory containing your trading data blocks. Each block is a folder with tradelog.csv and optional dailylog.csv",
      "required": true
    }
  },
  "compatibility": {
    "claude_desktop": ">=0.10.0",
    "platforms": [
      "darwin",
      "win32",
      "linux"
    ],
    "runtimes": {
      "node": ">=18.0.0"
    }
  },
  "privacy_policies": []
}
